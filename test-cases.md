# Список кейсов для habit-game

## Use Cases (основные сценарии использования)

### Управление пользователями
1. **Регистрация нового пользователя**
   - **Описание**: Пользователь должен иметь возможность создать новую учетную запись.
   - **Предусловия**: Пользователь не авторизован, находится на странице регистрации.
   - **Шаги тестирования**: 
     - Заполнить поля: email, имя пользователя, пароль, подтверждение пароля
     - Отправить форму регистрации
   - **Ожидаемый результат**: 
     - Создана новая запись пользователя в базе данных
     - Пользователь перенаправлен на страницу входа или дашборд
     - Отображается сообщение об успешной регистрации
   - **Критерии успеха**: Пользователь может войти в систему с созданными учетными данными.

2. **Авторизация существующего пользователя**
   - **Описание**: Зарегистрированный пользователь должен иметь возможность войти в систему.
   - **Предусловия**: Пользователь зарегистрирован, не авторизован, находится на странице входа.
   - **Шаги тестирования**: 
     - Ввести email/имя пользователя и пароль
     - Отправить форму входа
   - **Ожидаемый результат**: 
     - Пользователь аутентифицирован
     - Создается сессия/JWT токен
     - Пользователь перенаправлен на главную страницу приложения
   - **Критерии успеха**: Пользователь получает доступ к защищенным ресурсам приложения.

3. **Выход из системы**
   - **Описание**: Авторизованный пользователь должен иметь возможность выйти из системы.
   - **Предусловия**: Пользователь авторизован.
   - **Шаги тестирования**: 
     - Нажать кнопку "Выйти" в интерфейсе
   - **Ожидаемый результат**: 
     - Сессия пользователя завершена
     - JWT токен инвалидирован
     - Пользователь перенаправлен на страницу входа
   - **Критерии успеха**: Пользователь не имеет доступа к защищенным ресурсам после выхода.

4. **Просмотр профиля пользователя**
   - **Описание**: Пользователь должен иметь возможность просмотреть информацию своего профиля.
   - **Предусловия**: Пользователь авторизован.
   - **Шаги тестирования**: 
     - Перейти на страницу профиля
   - **Ожидаемый результат**: 
     - Отображается личная информация пользователя
     - Отображается статистика и достижения
   - **Критерии успеха**: Вся информация о пользователе отображается корректно.

5. **Редактирование профиля пользователя**
   - **Описание**: Пользователь должен иметь возможность обновить свои данные.
   - **Предусловия**: Пользователь авторизован, находится на странице профиля.
   - **Шаги тестирования**: 
     - Изменить данные в форме
     - Сохранить изменения
   - **Ожидаемый результат**: 
     - Данные пользователя обновлены в базе
     - Отображается сообщение об успешном обновлении
   - **Критерии успеха**: Обновленные данные отображаются в профиле.

6. **Смена пароля**
   - **Описание**: Пользователь должен иметь возможность изменить свой пароль.
   - **Предусловия**: Пользователь авторизован, находится в настройках профиля.
   - **Шаги тестирования**: 
     - Ввести текущий пароль
     - Ввести новый пароль и его подтверждение
     - Подтвердить изменение
   - **Ожидаемый результат**: 
     - Пароль обновлен в базе данных
     - Отображается сообщение об успешном обновлении
   - **Критерии успеха**: Пользователь может войти в систему с новым паролем.

7. **Восстановление забытого пароля**
   - **Описание**: Пользователь должен иметь возможность восстановить доступ при утере пароля.
   - **Предусловия**: Пользователь не авторизован, находится на странице восстановления пароля.
   - **Шаги тестирования**: 
     - Ввести email
     - Запросить восстановление
     - Перейти по ссылке из письма
     - Ввести новый пароль
   - **Ожидаемый результат**: 
     - Пароль обновлен
     - Пользователь может войти с новым паролем
   - **Критерии успеха**: Пользователь получает письмо и может сбросить пароль.

8. **Удаление аккаунта**
   - **Описание**: Пользователь должен иметь возможность удалить свой аккаунт.
   - **Предусловия**: Пользователь авторизован, находится в настройках профиля.
   - **Шаги тестирования**: 
     - Выбрать опцию удаления аккаунта
     - Подтвердить действие (ввести пароль)
   - **Ожидаемый результат**: 
     - Данные пользователя удалены или анонимизированы
     - Сессия завершена
     - Пользователь перенаправлен на главную страницу
   - **Критерии успеха**: Пользователь не может войти с удаленными учетными данными.

### Управление привычками
1. **Создание новой привычки**
   - **Описание**: Пользователь должен иметь возможность создать новую привычку для отслеживания.
   - **Предусловия**: Пользователь авторизован, находится на странице управления привычками.
   - **Шаги тестирования**: 
     - Заполнить форму создания привычки (название, описание, периодичность, категория)
     - Сохранить новую привычку
   - **Ожидаемый результат**: 
     - Привычка сохранена в базе данных и связана с пользователем
     - Привычка отображается в списке привычек пользователя
   - **Критерии успеха**: Привычка доступна для отслеживания.

2. **Просмотр списка всех привычек**
   - **Описание**: Пользователь должен видеть список всех своих привычек.
   - **Предусловия**: Пользователь авторизован.
   - **Шаги тестирования**: 
     - Перейти на страницу со списком привычек
   - **Ожидаемый результат**: 
     - Отображается список всех привычек пользователя
     - Для каждой привычки показана основная информация (название, прогресс, статус)
   - **Критерии успеха**: Все привычки пользователя корректно отображаются.

3. **Редактирование существующей привычки**
   - **Описание**: Пользователь должен иметь возможность изменить параметры привычки.
   - **Предусловия**: Пользователь авторизован, у него есть хотя бы одна привычка.
   - **Шаги тестирования**: 
     - Выбрать привычку из списка
     - Изменить параметры в форме редактирования
     - Сохранить изменения
   - **Ожидаемый результат**: 
     - Данные привычки обновлены в базе
     - Обновленная информация отображается в списке
   - **Критерии успеха**: Изменения корректно сохраняются и применяются.

4. **Удаление привычки**
   - **Описание**: Пользователь должен иметь возможность удалить привычку.
   - **Предусловия**: Пользователь авторизован, у него есть хотя бы одна привычка.
   - **Шаги тестирования**: 
     - Выбрать привычку
     - Инициировать удаление
     - Подтвердить действие
   - **Ожидаемый результат**: 
     - Привычка удалена из базы данных
     - Привычка исчезает из списка
   - **Критерии успеха**: Привычка больше не отображается в списке.

5. **Отметка выполнения привычки**
   - **Описание**: Пользователь должен иметь возможность отметить выполнение привычки.
   - **Предусловия**: Пользователь авторизован, у него есть активная привычка.
   - **Шаги тестирования**: 
     - Выбрать привычку из списка
     - Отметить как выполненную
   - **Ожидаемый результат**: 
     - Создается запись о выполнении в истории
     - Обновляется статус привычки
     - Начисляются очки/опыт
     - Отображается анимация/визуальный эффект
   - **Критерии успеха**: Привычка отмечена как выполненная, прогресс обновлен.

6. **Просмотр истории выполнения привычки**
   - **Описание**: Пользователь должен иметь возможность просмотреть историю выполнения привычки.
   - **Предусловия**: Пользователь авторизован, у него есть привычка с историей выполнения.
   - **Шаги тестирования**: 
     - Выбрать привычку
     - Открыть историю выполнения
   - **Ожидаемый результат**: 
     - Отображается список дат выполнения
     - Показывается статистика (серии, пропуски)
     - Возможна визуализация (график, календарь)
   - **Критерии успеха**: История выполнения корректно отображается.

7. **Фильтрация привычек по категориям/типам**
   - **Описание**: Пользователь должен иметь возможность фильтровать привычки.
   - **Предусловия**: Пользователь авторизован, у него есть несколько привычек разных категорий.
   - **Шаги тестирования**: 
     - Выбрать фильтр категории/типа из доступных
   - **Ожидаемый результат**: 
     - Список привычек фильтруется согласно выбранным критериям
     - Отображаются только привычки, соответствующие фильтру
   - **Критерии успеха**: Фильтрация работает корректно для всех категорий.

8. **Сортировка привычек по различным параметрам**
   - **Описание**: Пользователь должен иметь возможность сортировать список привычек.
   - **Предусловия**: Пользователь авторизован, у него есть несколько привычек.
   - **Шаги тестирования**: 
     - Выбрать параметр сортировки (частота, дата создания, прогресс)
     - Выбрать порядок (возрастание/убывание)
   - **Ожидаемый результат**: 
     - Список привычек сортируется согласно выбранным параметрам
   - **Критерии успеха**: Сортировка применяется корректно ко всему списку.

### Геймификация
1. **Начисление очков/наград за выполнение привычек**
   - **Описание**: Система должна начислять очки пользователю при выполнении привычек.
   - **Предусловия**: Пользователь авторизован, выполняет привычку.
   - **Шаги тестирования**: 
     - Отметить привычку как выполненную
   - **Ожидаемый результат**: 
     - Пользователю начисляются очки согласно правилам (базовые + бонусы за серии)
     - Отображается анимация начисления очков
     - Обновляется общий счет пользователя
   - **Критерии успеха**: Очки корректно начисляются и суммируются.

2. **Повышение уровня пользователя**
   - **Описание**: При накоплении определенного количества очков пользователь должен повышать свой уровень.
   - **Предусловия**: Пользователь накопил достаточно очков для повышения уровня.
   - **Шаги тестирования**: 
     - Набрать необходимое количество очков (через выполнение привычек)
   - **Ожидаемый результат**: 
     - Уровень пользователя повышается
     - Отображается анимация/уведомление о повышении
     - Возможно открытие новых возможностей
   - **Критерии успеха**: Система правильно определяет достижение порога и повышает уровень.

3. **Получение достижений**
   - **Описание**: Пользователь должен получать достижения за выполнение определенных условий.
   - **Предусловия**: Пользователь выполняет действия, соответствующие критериям достижения.
   - **Шаги тестирования**: 
     - Выполнить условия для получения достижения (например, выполнять привычку 7 дней подряд)
   - **Ожидаемый результат**: 
     - Пользователь получает достижение
     - Отображается уведомление о получении
     - Достижение добавляется в профиль пользователя
   - **Критерии успеха**: Все условия достижений правильно проверяются и награждаются.

4. **Просмотр статистики и прогресса**
   - **Описание**: Пользователь должен иметь возможность просматривать свою статистику и прогресс.
   - **Предусловия**: Пользователь авторизован, имеет некоторую историю использования.
   - **Шаги тестирования**: 
     - Перейти на страницу статистики/дашборда
   - **Ожидаемый результат**: 
     - Отображаются графики и метрики прогресса
     - Показывается статистика по привычкам, уровням, достижениям
     - Визуализируется долгосрочный прогресс
   - **Критерии успеха**: Статистика корректно отражает активность пользователя.

5. **Участие в вызовах/челленджах**
   - **Описание**: Пользователь должен иметь возможность участвовать в тематических вызовах.
   - **Предусловия**: Пользователь авторизован, доступны активные вызовы.
   - **Шаги тестирования**: 
     - Просмотреть список доступных вызовов
     - Присоединиться к вызову
     - Выполнять задачи вызова
   - **Ожидаемый результат**: 
     - Пользователь добавлен к участникам вызова
     - Прогресс в вызове отслеживается
     - Выполнение задач вызова приносит дополнительные награды
   - **Критерии успеха**: Система правильно отслеживает прогресс в вызове.

6. **Соревнование с другими пользователями**
   - **Описание**: Пользователь должен иметь возможность соревноваться с другими пользователями.
   - **Предусловия**: Пользователь авторизован, в системе есть другие активные пользователи.
   - **Шаги тестирования**: 
     - Присоединиться к соревнованию/вызову с другими участниками
     - Выполнять привычки в рамках соревнования
   - **Ожидаемый результат**: 
     - Прогресс пользователя сравнивается с другими участниками
     - Отображается таблица лидеров
     - Присуждаются места и награды
   - **Критерии успеха**: Система корректно ранжирует пользователей по их достижениям.

7. **Просмотр рейтинга пользователей**
   - **Описание**: Пользователь должен иметь возможность видеть общий рейтинг пользователей.
   - **Предусловия**: Пользователь авторизован.
   - **Шаги тестирования**: 
     - Перейти на страницу рейтинга/лидерборда
   - **Ожидаемый результат**: 
     - Отображается список пользователей, отсортированный по очкам/уровню
     - Показывается позиция текущего пользователя
     - Возможна фильтрация (общий/друзья/определенный период)
   - **Критерии успеха**: Рейтинг корректно отражает достижения всех пользователей.

### Уведомления
1. **Настройка уведомлений о привычках**
   - **Описание**: Пользователь должен иметь возможность настраивать уведомления для привычек.
   - **Предусловия**: Пользователь авторизован, имеет привычки.
   - **Шаги тестирования**: 
     - Перейти в настройки уведомлений
     - Выбрать типы уведомлений (email, push, внутри приложения)
     - Настроить частоту и время уведомлений
   - **Ожидаемый результат**: 
     - Настройки сохраняются в профиле пользователя
     - Уведомления настроены согласно предпочтениям
   - **Критерии успеха**: Система генерирует уведомления в соответствии с настройками.

2. **Получение напоминаний о выполнении привычек**
   - **Описание**: Пользователь должен получать уведомления о необходимости выполнить привычку.
   - **Предусловия**: Пользователь настроил уведомления, наступило время для привычки.
   - **Шаги тестирования**: 
     - Дождаться запланированного времени уведомления
   - **Ожидаемый результат**: 
     - Пользователь получает уведомление выбранным способом
     - Уведомление содержит информацию о привычке
     - Предоставляется возможность отметить выполнение из уведомления
   - **Критерии успеха**: Уведомления приходят вовремя и содержат актуальную информацию.

3. **Отключение уведомлений**
   - **Описание**: Пользователь должен иметь возможность отключить уведомления.
   - **Предусловия**: Пользователь авторизован, имеет настроенные уведомления.
   - **Шаги тестирования**: 
     - Перейти в настройки уведомлений
     - Отключить уведомления (все или выборочно)
   - **Ожидаемый результат**: 
     - Уведомления отключаются согласно выбору пользователя
     - Пользователь не получает отключенные уведомления
   - **Критерии успеха**: Система не отправляет отключенные уведомления.

4. **Настройка времени получения уведомлений**
   - **Описание**: Пользователь должен иметь возможность указать предпочтительное время для уведомлений.
   - **Предусловия**: Пользователь авторизован, имеет настроенные уведомления.
   - **Шаги тестирования**: 
     - Перейти в настройки времени уведомлений
     - Указать временные интервалы для получения уведомлений
   - **Ожидаемый результат**: 
     - Настройки времени сохраняются
     - Уведомления приходят в указанное время
   - **Критерии успеха**: Система отправляет уведомления в соответствии с заданным временем.

## Edge Cases (граничные случаи)

### Управление пользователями
1. **Регистрация с уже существующим email/username**
   - **Описание**: Система должна предотвращать создание дубликатов аккаунтов.
   - **Предусловия**: В системе уже существует пользователь с определенным email/username.
   - **Шаги тестирования**: 
     - Попытаться зарегистрироваться с тем же email/username
   - **Ожидаемый результат**: 
     - Система отклоняет регистрацию
     - Отображается информативное сообщение об ошибке
     - Существующий аккаунт не затрагивается
   - **Критерии успеха**: Невозможно создать дубликат аккаунта.

2. **Ввод неверного пароля при авторизации более 5 раз**
   - **Описание**: Система должна защищаться от подбора паролей.
   - **Предусловия**: Пользователь существует, форма входа доступна.
   - **Шаги тестирования**: 
     - Ввести неверный пароль 5+ раз подряд
   - **Ожидаемый результат**: 
     - После 5 неудачных попыток аккаунт временно блокируется
     - Отображается соответствующее сообщение
     - Возможно предложение восстановить пароль
   - **Критерии успеха**: Защита от брутфорса работает корректно.

3. **Попытка доступа к защищенным ресурсам без авторизации**
   - **Описание**: Система должна ограничивать доступ к защищенным ресурсам.
   - **Предусловия**: Пользователь не авторизован.
   - **Шаги тестирования**: 
     - Попытаться получить доступ к защищенным эндпоинтам API или страницам
   - **Ожидаемый результат**: 
     - Доступ отклонен
     - Перенаправление на страницу входа
     - Отображается сообщение о необходимости авторизации
   - **Критерии успеха**: Защищенные ресурсы недоступны без авторизации.

4. **Использование специальных символов в имени пользователя**
   - **Описание**: Система должна корректно обрабатывать специальные символы.
   - **Предусловия**: Форма регистрации доступна.
   - **Шаги тестирования**: 
     - Попытаться использовать специальные символы (@#$%^&*) в имени пользователя
   - **Ожидаемый результат**: 
     - Система либо отклоняет недопустимые символы с понятным сообщением
     - Либо корректно обрабатывает разрешенные специальные символы
   - **Критерии успеха**: Обработка специальных символов не приводит к ошибкам.

5. **Регистрация с очень длинным email/паролем/именем**
   - **Описание**: Система должна корректно обрабатывать данные с предельными значениями длины.
   - **Предусловия**: Форма регистрации доступна.
   - **Шаги тестирования**: 
     - Ввести очень длинные значения в поля формы
   - **Ожидаемый результат**: 
     - Система либо ограничивает длину ввода с понятным сообщением
     - Либо корректно обрабатывает длинные значения в рамках допустимых пределов
   - **Критерии успеха**: Система защищена от переполнения и некорректных данных.

6. **Одновременный вход с разных устройств**
   - **Описание**: Система должна корректно обрабатывать многосессионность.
   - **Предусловия**: Пользователь существует.
   - **Шаги тестирования**: 
     - Войти в систему с одного устройства
     - Войти в систему с другого устройства под тем же аккаунтом
   - **Ожидаемый результат**: 
     - Либо разрешаются параллельные сессии с уведомлением пользователя
     - Либо новая сессия завершает предыдущую
   - **Критерии успеха**: Поведение системы согласуется с политикой безопасности.

### Управление привычками
1. **Создание привычек с одинаковыми названиями**
   - **Описание**: Система должна корректно обрабатывать привычки с одинаковыми названиями.
   - **Предусловия**: В системе есть несколько привычек с одинаковыми названиями.
   - **Шаги тестирования**: 
     - Создать несколько привычек с одинаковыми названиями
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает привычки с одинаковыми названиями
     - Привычки отображаются в списке привычек пользователя
   - **Критерии успеха**: Привычки с одинаковыми названиями корректно отображаются.

2. **Создание максимально допустимого количества привычек**
   - **Описание**: Система должна корректно обрабатывать максимальное количество привычек.
   - **Предусловия**: В системе есть ограничение на количество привычек.
   - **Шаги тестирования**: 
     - Создать максимальное количество привычек
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает максимальное количество привычек
     - Привычки отображаются в списке привычек пользователя
   - **Критерии успеха**: Система корректно ограничивает количество привычек.

3. **Попытка отметить выполнение привычки задним числом**
   - **Описание**: Система должна корректно обрабатывать отметку выполнения привычки задним числом.
   - **Предусловия**: В системе есть история выполнения привычки.
   - **Шаги тестирования**: 
     - Отметить выполнение привычки задним числом
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает отметку выполнения привычки задним числом
     - Привычка отмечается как выполненная
   - **Критерии успеха**: Система корректно обрабатывает историю выполнения привычки.

4. **Отметка выполнения привычки раньше запланированного времени**
   - **Описание**: Система должна корректно обрабатывать отметку выполнения привычки раньше запланированного времени.
   - **Предусловия**: В системе есть запланированное время для выполнения привычки.
   - **Шаги тестирования**: 
     - Отметить выполнение привычки раньше запланированного времени
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает отметку выполнения привычки раньше запланированного времени
     - Привычка отмечается как выполненная
   - **Критерии успеха**: Система корректно обрабатывает запланированное время для выполнения привычки.

5. **Попытка удаления привычки с большой историей выполнения**
   - **Описание**: Система должна корректно обрабатывать удаление привычки с большой историей выполнения.
   - **Предусловия**: В системе есть привычка с большой историей выполнения.
   - **Шаги тестирования**: 
     - Удалить привычку с большой историей выполнения
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает удаление привычки с большой историей выполнения
     - Привычка удаляется из базы данных
   - **Критерии успеха**: Система корректно обрабатывает историю выполнения привычки.

6. **Создание привычки без заполнения обязательных полей**
   - **Описание**: Система должна корректно обрабатывать создание привычки без заполнения обязательных полей.
   - **Предусловия**: Форма создания привычки доступна.
   - **Шаги тестирования**: 
     - Создать привычку без заполнения обязательных полей
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает создание привычки без заполнения обязательных полей
     - Привычка не сохраняется в базе данных
   - **Критерии успеха**: Система корректно обрабатывает форму создания привычки.

### Геймификация
1. **Достижение максимального уровня пользователя**
   - **Описание**: Система должна корректно обрабатывать достижение максимального уровня пользователя.
   - **Предусловия**: Пользователь накопил достаточно очков для достижения максимального уровня.
   - **Шаги тестирования**: 
     - Набрать необходимое количество очков для достижения максимального уровня
   - **Ожидаемый результат**: 
     - Уровень пользователя повышается до максимального
     - Отображается анимация/уведомление о достижении максимального уровня
     - Возможно открытие новых возможностей
   - **Критерии успеха**: Система правильно определяет достижение максимального уровня.

2. **Получение всех доступных достижений**
   - **Описание**: Система должна корректно обрабатывать получение всех доступных достижений.
   - **Предусловия**: Пользователь выполняет условия для получения достижений.
   - **Шаги тестирования**: 
     - Выполнить все условия для получения достижений
   - **Ожидаемый результат**: 
     - Все достижения получены
     - Отображается список полученных достижений
     - Достижения добавляются в профиль пользователя
   - **Критерии успеха**: Система корректно обрабатывает все условия для получения достижений.

3. **Одинаковое количество очков у нескольких пользователей в рейтинге**
   - **Описание**: Система должна корректно обрабатывать одинаковое количество очков у нескольких пользователей в рейтинге.
   - **Предусловия**: В системе есть несколько пользователей с одинаковым количеством очков.
   - **Шаги тестирования**: 
     - Проверить рейтинг пользователей
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает одинаковое количество очков у нескольких пользователей
     - Рейтинг пользователей корректно отображается
   - **Критерии успеха**: Система корректно обрабатывает одинаковое количество очков у нескольких пользователей.

4. **Резкое увеличение статистики (выполнение многих привычек сразу)**
   - **Описание**: Система должна корректно обрабатывать резкое увеличение статистики.
   - **Предусловия**: Пользователь выполняет множество привычек одновременно.
   - **Шаги тестирования**: 
     - Выполнить множество привычек одновременно
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает резкое увеличение статистики
     - Статистика пользователя корректно обновляется
   - **Критерии успеха**: Система корректно обрабатывает резкое увеличение статистики.

5. **Участие в максимальном количестве челленджей одновременно**
   - **Описание**: Система должна корректно обрабатывать участие в максимальном количестве челленджей одновременно.
   - **Предусловия**: Пользователь доступен для участия в нескольких челленджах.
   - **Шаги тестирования**: 
     - Присоединиться к максимальному количеству челленджей одновременно
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает участие в максимальном количестве челленджей одновременно
     - Прогресс в челленджах отслеживается
     - Выполнение задач челленджей приносит дополнительные награды
   - **Критерии успеха**: Система корректно обрабатывает участие в максимальном количестве челленджей одновременно.

### Уведомления
1. **Настройка уведомлений на недопустимое время**
   - **Описание**: Система должна корректно обрабатывать настройку уведомлений на недопустимое время.
   - **Предусловия**: Пользователь настраивает уведомления на недопустимое время.
   - **Шаги тестирования**: 
     - Настроить уведомления на недопустимое время
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает настройку уведомлений на недопустимое время
     - Уведомления не отправляются в указанное время
   - **Критерии успеха**: Система корректно обрабатывает настройку уведомлений на недопустимое время.

2. **Попытка получения уведомлений при отключенном разрешении в браузере/приложении**
   - **Описание**: Система должна корректно обрабатывать получение уведомлений при отключенном разрешении в браузере/приложении.
   - **Предусловия**: Пользователь отключил уведомления в браузере/приложении.
   - **Шаги тестирования**: 
     - Отключить уведомления в браузере/приложении
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает отключение уведомлений
     - Пользователь не получает отключенные уведомления
   - **Критерии успеха**: Система корректно обрабатывает отключение уведомлений.

3. **Получение множественных уведомлений одновременно**
   - **Описание**: Система должна корректно обрабатывать получение множественных уведомлений одновременно.
   - **Предусловия**: Пользователь получает несколько уведомлений одновременно.
   - **Шаги тестирования**: 
     - Получить несколько уведомлений одновременно
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает получение множественных уведомлений одновременно
     - Уведомления корректно отображаются
   - **Критерии успеха**: Система корректно обрабатывает получение множественных уведомлений одновременно.

4. **Обработка уведомлений, созданных в другом часовом поясе**
   - **Описание**: Система должна корректно обрабатывать уведомления, созданные в другом часовом поясе.
   - **Предусловия**: Пользователь получает уведомления, созданные в другом часовом поясе.
   - **Шаги тестирования**: 
     - Получить уведомления, созданные в другом часовом поясе
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает уведомления, созданные в другом часовом поясе
     - Уведомления корректно отображаются
   - **Критерии успеха**: Система корректно обрабатывает уведомления, созданные в другом часовом поясе.

## Corner Cases (особые случаи)

### Системные
1. **Поведение приложения при отсутствии интернет-соединения**
   - **Описание**: Система должна корректно обрабатывать отсутствие интернет-соединения.
   - **Предусловия**: Отсутствует интернет-соединение.
   - **Шаги тестирования**: 
     - Отключить интернет-соединение
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает отсутствие интернет-соединения
     - Пользователь не может получить доступ к защищенным ресурсам
   - **Критерии успеха**: Система корректно обрабатывает отсутствие интернет-соединения.

2. **Восстановление после сбоя/краша**
   - **Описание**: Система должна корректно обрабатывать восстановление после сбоя/краша.
   - **Предусловия**: Система перезапущена после сбоя/краша.
   - **Шаги тестирования**: 
     - Перезапустить систему
   - **Ожидаемый результат**: 
     - Система корректно восстанавливается после сбоя/краша
     - Все данные сохранены
   - **Критерии успеха**: Система корректно восстанавливается после сбоя/краша.

3. **Работа при высокой загрузке сервера**
   - **Описание**: Система должна корректно обрабатывать высокую загрузку сервера.
   - **Предусловия**: Сервер перегружен.
   - **Шаги тестирования**: 
     - Проверить работу системы при высокой загрузке сервера
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает высокую загрузку сервера
     - Пользователи могут нормально использовать систему
   - **Критерии успеха**: Система корректно обрабатывает высокую загрузку сервера.

4. **Обработка неожиданно завершенной сессии**
   - **Описание**: Система должна корректно обрабатывать неожиданно завершенную сессию.
   - **Предусловия**: Сессия завершена неожиданно.
   - **Шаги тестирования**: 
     - Завершить текущую сессию
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает неожиданно завершенную сессию
     - Все данные сохранены
   - **Критерии успеха**: Система корректно обрабатывает неожиданно завершенную сессию.

5. **Поведение при изменении системного времени на устройстве пользователя**
   - **Описание**: Система должна корректно обрабатывать изменение системного времени на устройстве пользователя.
   - **Предусловия**: Системное время на устройстве пользователя изменено.
   - **Шаги тестирования**: 
     - Изменить системное время на устройстве пользователя
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает изменение системного времени на устройстве пользователя
     - Все данные сохранены
   - **Критерии успеха**: Система корректно обрабатывает изменение системного времени на устройстве пользователя.

### Данные
1. **Обработка очень большого объема данных (много привычек и истории)**
   - **Описание**: Система должна корректно обрабатывать очень большой объем данных.
   - **Предусловия**: В системе есть много привычек и история выполнения.
   - **Шаги тестирования**: 
     - Проверить работу системы при большом объеме данных
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает большой объем данных
     - Пользователи могут нормально использовать систему
   - **Критерии успеха**: Система корректно обрабатывает большой объем данных.

2. **Обработка специальных символов и эмодзи в названиях/описаниях**
   - **Описание**: Система должна корректно обрабатывать специальные символы и эмодзи в названиях/описаниях.
   - **Предусловия**: В названиях/описаниях привычек есть специальные символы и эмодзи.
   - **Шаги тестирования**: 
     - Проверить корректность отображения названий/описаний привычек
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает специальные символы и эмодзи в названиях/описаниях
     - Названия/описания корректно отображаются
   - **Критерии успеха**: Система корректно обрабатывает специальные символы и эмодзи в названиях/описаниях.

3. **Импорт/экспорт данных между разными устройствами**
   - **Описание**: Система должна корректно обрабатывать импорт/экспорт данных между разными устройствами.
   - **Предусловия**: Пользователь хочет перенести данные с одного устройства на другое.
   - **Шаги тестирования**: 
     - Экспортировать данные с одного устройства
     - Импортировать данные на другое устройство
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает импорт/экспорт данных между устройствами
     - Данные корректно перенесены
   - **Критерии успеха**: Система корректно обрабатывает импорт/экспорт данных между устройствами.

4. **Синхронизация данных после долгого отсутствия интернет-соединения**
   - **Описание**: Система должна корректно обрабатывать синхронизацию данных после долгого отсутствия интернет-соединения.
   - **Предусловия**: Интернет-соединение отсутствовало долгое время.
   - **Шаги тестирования**: 
     - Отсутствовать интернет-соединение долгое время
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает синхронизацию данных после долгого отсутствия интернет-соединения
     - Все данные сохранены
   - **Критерии успеха**: Система корректно обрабатывает синхронизацию данных после долгого отсутствия интернет-соединения.

5. **Обработка привычек, созданных в старой версии приложения, при обновлении**
   - **Описание**: Система должна корректно обрабатывать привычки, созданные в старой версии приложения, при обновлении.
   - **Предусловия**: Пользователь обновляет приложение.
   - **Шаги тестирования**: 
     - Обновить приложение
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает привычки, созданные в старой версии приложения, при обновлении
     - Все данные сохранены
   - **Критерии успеха**: Система корректно обрабатывает привычки, созданные в старой версии приложения, при обновлении.

### Интерфейс
1. **Отображение на устройствах с очень маленьким экраном**
   - **Описание**: Система должна корректно обрабатывать отображение на устройствах с очень маленьким экраном.
   - **Предусловия**: Пользователь использует устройство с очень маленьким экраном.
   - **Шаги тестирования**: 
     - Проверить отображение интерфейса на устройстве с очень маленьким экраном
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает отображение на устройстве с очень маленьким экраном
     - Интерфейс корректно отображается
   - **Критерии успеха**: Система корректно обрабатывает отображение на устройствах с очень маленьким экраном.

2. **Отображение при использовании очень большого шрифта в настройках системы**
   - **Описание**: Система должна корректно обрабатывать отображение при использовании очень большого шрифта в настройках системы.
   - **Предусловия**: Пользователь настроил очень большой шрифт в настройках системы.
   - **Шаги тестирования**: 
     - Настроить очень большой шрифт в настройках системы
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает отображение при использовании очень большого шрифта в настройках системы
     - Интерфейс корректно отображается
   - **Критерии успеха**: Система корректно обрабатывает отображение при использовании очень большого шрифта в настройках системы.

3. **Правильное отображение в режиме высокой контрастности**
   - **Описание**: Система должна корректно обрабатывать отображение в режиме высокой контрастности.
   - **Предусловия**: Пользователь включил режим высокой контрастности.
   - **Шаги тестирования**: 
     - Проверить отображение интерфейса в режиме высокой контрастности
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает отображение в режиме высокой контрастности
     - Интерфейс корректно отображается
   - **Критерии успеха**: Система корректно обрабатывает отображение в режиме высокой контрастности.

4. **Доступность для пользователей с ограниченными возможностями**
   - **Описание**: Система должна корректно обрабатывать доступность для пользователей с ограниченными возможностями.
   - **Предусловия**: Пользователь имеет ограниченные возможности.
   - **Шаги тестирования**: 
     - Проверить доступность интерфейса для пользователя с ограниченными возможностями
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает доступность для пользователей с ограниченными возможностями
     - Интерфейс корректно отображается
   - **Критерии успеха**: Система корректно обрабатывает доступность для пользователей с ограниченными возможностями.

5. **Корректная работа при смене языка интерфейса**
   - **Описание**: Система должна корректно обрабатывать работу при смене языка интерфейса.
   - **Предусловия**: Пользователь изменил язык интерфейса.
   - **Шаги тестирования**: 
     - Изменить язык интерфейса
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает работу при смене языка интерфейса
     - Интерфейс корректно отображается
   - **Критерии успеха**: Система корректно обрабатывает работу при смене языка интерфейса.

### Безопасность
1. **Защита от SQL-инъекций и XSS-атак**
   - **Описание**: Система должна корректно обрабатывать защиту от SQL-инъекций и XSS-атак.
   - **Предусловия**: В системе есть возможность выполнения SQL-запросов и использования XSS-атак.
   - **Шаги тестирования**: 
     - Проверить работу системы при возможности выполнения SQL-запросов и использования XSS-атак
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает защиту от SQL-инъекций и XSS-атак
     - Система защищена от SQL-инъекций и XSS-атак
   - **Критерии успеха**: Система корректно обрабатывает защиту от SQL-инъекций и XSS-атак.

2. **Обработка подозрительной активности (множественные запросы)**
   - **Описание**: Система должна корректно обрабатывать подозрительную активность.
   - **Предусловия**: В системе есть подозрительная активность.
   - **Шаги тестирования**: 
     - Проверить работу системы при подозрительной активности
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает подозрительную активность
     - Система защищена от подозрительной активности
   - **Критерии успеха**: Система корректно обрабатывает подозрительную активность.

3. **Блокировка учетной записи после подозрительных действий**
   - **Описание**: Система должна корректно обрабатывать блокировку учетной записи после подозрительных действий.
   - **Предусловия**: Пользователь совершил подозрительные действия.
   - **Шаги тестирования**: 
     - Совершить подозрительные действия
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает блокировку учетной записи после подозрительных действий
     - Учетная запись блокируется
   - **Критерии успеха**: Система корректно обрабатывает блокировку учетной записи после подозрительных действий.

4. **Проверка токенов доступа на валидность и срок действия**
   - **Описание**: Система должна корректно обрабатывать проверку токенов доступа на валидность и срок действия.
   - **Предусловия**: Пользователь использует токены доступа.
   - **Шаги тестирования**: 
     - Проверить работу системы при использовании токенов доступа
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает проверку токенов доступа на валидность и срок действия
     - Система корректно проверяет токены доступа
   - **Критерии успеха**: Система корректно обрабатывает проверку токенов доступа на валидность и срок действия.

5. **Обработка попыток несанкционированного доступа к API**
   - **Описание**: Система должна корректно обрабатывать попытки несанкционированного доступа к API.
   - **Предусловия**: В системе есть возможность несанкционированного доступа к API.
   - **Шаги тестирования**: 
     - Проверить работу системы при возможности несанкционированного доступа к API
   - **Ожидаемый результат**: 
     - Система корректно обрабатывает попытки несанкционированного доступа к API
     - Система защищена от несанкционированного доступа к API
   - **Критерии успеха**: Система корректно обрабатывает попытки несанкционированного доступа к API.

## Рекомендации по разработке автоматических тестов

Этот документ создан для поддержки разработки по методологии TDD (Test-Driven Development). Ниже приведены рекомендации по созданию автоматических тестов на основе описанных кейсов.

### Структура тестов

Для каждого кейса рекомендуется создавать отдельный тестовый файл или набор тестов, следуя следующей структуре:

```javascript
// Пример структуры теста (Jest)

describe('[Название категории]', () => {
  describe('[Название компонента/функциональности]', () => {
    // Setup и teardown
    beforeEach(() => {
      // Подготовка тестового окружения
    });
    
    afterEach(() => {
      // Очистка после теста
    });
    
    test('[Название кейса]', async () => {
      // Arrange (подготовка данных)
      // Act (выполнение действия)
      // Assert (проверка результата)
    });
  });
});
```

### Примеры тестов для разных типов кейсов

#### Тест для Unit-тестирования (бэкенд)

```javascript
// Пример для кейса "Регистрация нового пользователя"

describe('UserService', () => {
  test('должен регистрировать нового пользователя с валидными данными', async () => {
    // Arrange
    const userData = {
      email: 'test@example.com',
      username: 'testuser',
      password: 'Password123!'
    };
    
    // Act
    const result = await userService.register(userData);
    
    // Assert
    expect(result).toHaveProperty('id');
    expect(result.email).toBe(userData.email);
    expect(result.username).toBe(userData.username);
    // Проверяем, что пароль не хранится в открытом виде
    expect(result.password).not.toBe(userData.password);
  });
});
```

#### Тест для интеграционного тестирования (API)

```javascript
// Пример для кейса "Создание новой привычки"

describe('Habits API', () => {
  let token;
  let userId;
  
  beforeEach(async () => {
    // Авторизуемся и получаем токен
    const loginResponse = await request(app)
      .post('/api/auth/login')
      .send({ email: 'test@example.com', password: 'Password123!' });
    
    token = loginResponse.body.token;
    userId = loginResponse.body.userId;
  });
  
  test('должен создавать новую привычку для авторизованного пользователя', async () => {
    // Arrange
    const habitData = {
      title: 'Утренняя зарядка',
      description: 'Делать зарядку каждое утро',
      category: 'health',
      frequency: 'daily'
    };
    
    // Act
    const response = await request(app)
      .post('/api/habits')
      .set('Authorization', `Bearer ${token}`)
      .send(habitData);
    
    // Assert
    expect(response.status).toBe(201);
    expect(response.body).toHaveProperty('id');
    expect(response.body.title).toBe(habitData.title);
    expect(response.body.userId).toBe(userId);
  });
});
```

#### Тест для компонентного тестирования (фронтенд)

```javascript
// Пример для кейса "Отметка выполнения привычки"

import { render, screen, fireEvent } from '@testing-library/react';
import HabitItem from '../components/HabitItem';

describe('HabitItem компонент', () => {
  test('должен отображать анимацию и обновлять статус при отметке выполнения', async () => {
    // Arrange
    const mockHabit = {
      id: '123',
      title: 'Чтение книги',
      completed: false
    };
    const mockOnComplete = jest.fn();
    
    render(<HabitItem habit={mockHabit} onComplete={mockOnComplete} />);
    
    // Act
    const completeButton = screen.getByRole('button', { name: /complete/i });
    fireEvent.click(completeButton);
    
    // Assert
    expect(mockOnComplete).toHaveBeenCalledWith('123');
    expect(screen.getByTestId('completion-animation')).toBeInTheDocument();
  });
});
```

#### Тест для End-to-End тестирования

```javascript
// Пример для кейса "Фильтрация привычек по категориям/типам"

describe('Фильтрация привычек', () => {
  beforeEach(async () => {
    // Авторизуемся перед каждым тестом
    await page.goto('http://localhost:3000/login');
    await page.fill('input[name="email"]', 'test@example.com');
    await page.fill('input[name="password"]', 'Password123!');
    await page.click('button[type="submit"]');
    await page.waitForNavigation();
  });
  
  test('должен фильтровать привычки по выбранной категории', async () => {
    // Act
    await page.goto('http://localhost:3000/habits');
    await page.selectOption('select[data-testid="category-filter"]', 'health');
    
    // Assert
    const habits = await page.$$eval('.habit-item', items => items.map(item => item.dataset.category));
    expect(habits.every(category => category === 'health')).toBe(true);
  });
});
```

### Рекомендации по написанию тестов

1. **Изоляция тестов** - каждый тест должен быть независимым от других тестов
2. **Минимальные моки** - используйте моки только когда это действительно необходимо
3. **Однозначные проверки** - каждый тест должен проверять только одну функциональность
4. **Читаемые названия** - название теста должно ясно описывать, что именно тестируется
5. **Полное покрытие** - для каждого кейса напишите как положительные, так и отрицательные тесты

### Приоритизация тестирования

При разработке по методологии TDD рекомендуется следовать такому порядку написания тестов:

1. Тесты для критических компонентов системы (авторизация, управление данными)
2. Тесты для основных бизнес-процессов (создание и выполнение привычек)
3. Тесты для вспомогательных функций (фильтрация, сортировка)
4. Тесты для граничных случаев (edge cases)
5. Тесты для особых случаев (corner cases)

### Интеграция в процесс разработки

Автоматические тесты должны быть интегрированы в CI/CD процесс:

1. Запуск тестов при каждом push/pull request
2. Блокировка мерджа при неуспешных тестах
3. Регулярное выполнение полного набора тестов (включая e2e)
4. Отслеживание покрытия кода тестами

При разработке новой функциональности всегда начинайте с написания тестов на основе соответствующих кейсов из этого документа. 